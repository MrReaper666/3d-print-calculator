
<!doctype html>
<html><head><meta charset=utf-8><title>Calculator</title>
<link rel="stylesheet" href="style.css"></head>
<body>
<div class="card">
<h2>3D Print Calculator</h2>

<label>Filament price (£/kg)</label>
<input id="price">

<label>Grams used</label>
<input id="grams">

<div class="grid">
 <div><label>Hours</label><input id="hours"></div>
 <div><label>Minutes</label><input id="minutes"></div>
</div>

<label>Extra / labour (£)</label>
<input id="extra">

<button onclick="calc()">Calculate</button>

<div class="result" id="out"></div>

<a class="link" href="quote.html">Go to quote →</a>
<a class="link" href="index.html">← Back</a>
</div>

<script>
const s=JSON.parse(localStorage.getItem("settings")||"{}");
price.value=s.price||20;
const grams=document.getElementById("grams");
const hours=document.getElementById("hours");
const minutes=document.getElementById("minutes");
const extra=document.getElementById("extra");
const out=document.getElementById("out");

function calc(){
 const g=+grams.value||0;
 const h=+hours.value||0;
 const m=+minutes.value||0;
 const ex=+extra.value||0;
 const time=h+(m/60);
 const cost=(g/1000)*(price.value||20)+ex;
 const sell=(g*(s.rateG||0.08))+(time*(s.rateH||2.5))+(s.base||2);
 localStorage.setItem("quote",JSON.stringify({g,time,sell}));
 out.innerHTML=
  "Cost: £"+cost.toFixed(2)+"<br>"+
  "<span class='good'>Sell: £"+sell.toFixed(2)+"</span><br>"+
  "Profit: £"+(sell-cost).toFixed(2);
}
</script>
</body></html>
